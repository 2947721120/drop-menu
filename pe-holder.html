<link rel="import" href="./drop-menu.html">
<dom-module id="pe-holder">
    <template>
        <style>
            :host {
                --color: purple;
            }
            [wrapper] {
                width: 50%;
            }
            drop-menu {
                margin: 5vh;
            }
            [close] {
                height: 100px;
                width: 100px;
                background-color: blue;
                cursor: pointer;
            }
        </style>
        <div wrapper>
            <drop-menu list='["Denunciar spam o abuso" ,"Eliminar comentario", "editar", "probando esta vaina"]'></drop-menu>

            <drop-menu>

            </drop-menu>
        </div>
    </template>
    <script>
        Polymer({
            is: "pe-holder",
            observers: [],
            behaviors: [],
            listeners: {
                'click': '_closeMenu',
                'item-click':'_menuAction'
            },
            properties: {
                color: {
                    type: String
                }
            },
            _menuAction: function(e){
                // alert(e.detail.id);
            },
            _closeMenu: function () {
                var nodeList = Polymer.dom(this.root).querySelectorAll('drop-menu');
                for(var i = 0 ;i < nodeList.length ; i ++ ){
                    if (nodeList[i].state==='open')
                        nodeList[i].close() ;
                }
            },
            attached: function () {
                this.customStyle['--color'] = this.color;
                this.updateStyles();
            }
        });
    </script>
</dom-module>
