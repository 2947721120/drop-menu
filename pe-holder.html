<link rel="import" href="./drop-menu.html">
<link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/bower_components/iron-icons/iron-icons.html">
<link rel="import" href="/bower_components/iron-icon/iron-icon.html">
<dom-module id="pe-holder">
    <template>
        <style>
            :host {
                --color: purple;
                --close-color: #4775D1;
                --open-color: #CC6666;
                --background-color: #f6f6f6;
                --title-color: #5d5b5f;
                --title-background: #f1ecef;
                --title-button-background: #e8e5e4;
                --paper-icon-button-background: #eaeaea;
                --paper-icon-list-background: #e8e5e4;
                --icon-primary-color: gray;
                --icon-secondary-color: #B1B1B1;
                --content-color: black;
                --content-background: white;
                color: var(--content-color);
                --paper-input-container-focus-color: var(--close-color);
                --paper-input-container-color: #ecebf3;
                --paper-input-container-input: {
                    color: #797676;
                    font-size: 3.6vh;
                    font-weight: 300;
                };
                --paper-input-container-label: {
                    color: var(--title-color);
                    font-size: 16px;
                    font-weight: 300;
                };
                --paper-input-container-input: {
                    color: var(--title-color);
                    font-size: 19px;
                    font-weight: 300;
                };
                --iron-autogrow-textarea: {
                    color: var(--title-color);
                    font-size: 19px;
                    font-weight: 300;
                };
                --justify-text: {
                    text-align: justify;
                    text-justify: inter-word;
                };
            }
            [wrapper] {
                width: 70%;
            }
            drop-menu {
                margin: 5vh;
            }
            [close] {
                height: 100px;
                width: 100px;
                background-color: blue;
                cursor: pointer;
            }
            paper-icon-button {
                background-color: var(--paper-icon-button-background);
                color: var(--content-background);
                border-radius: 100%;
            }
        </style>
        <div wrapper>
            <drop-menu onblur="alert('test')" list='["Denunciar spam o abuso" ,"Eliminar comentario", "editar"]'>
                <div button>
                    <paper-icon-button on-click="open" icon="more-vert"></paper-icon-button>
                </div>
            </drop-menu>
            <drop-menu list='["Denunciar spam o abuso" ,"Eliminar comentario"]'></drop-menu>
        </div>
    </template>
    <script>
        Polymer({
            is: "pe-holder",
            observers: [],
            behaviors: [],
            listeners: {
                'click': '_closeMenu',
                'item-click': '_menuAction'
            },
            properties: {
                color: {
                    type: String
                }
            },
            _menuAction: function (e) {
                // alert(e.detail.id);
            },
            _closeMenu: function () {
                // var nodeList = Polymer.dom(this.root).querySelectorAll('drop-menu'); for(var i = 0 ;i < nodeList.length ; i ++ ){     if (nodeList[i].state==='open')         nodeList[i].close() ; }
            },
            attached: function () {
                this.customStyle['--color'] = this.color;
                this.updateStyles();
            }
        });
    </script>
</dom-module>
